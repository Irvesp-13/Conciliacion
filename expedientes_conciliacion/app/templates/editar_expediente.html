{% extends 'base.html' %}

{% block title %}Editar Expediente{% endblock %}

{% block content %}
<div class="row justify-content-center">
    <div class="col-md-12">
        <div class="card mt-2 shadow">
            <div class="card-header text-white">
                <h3 class="card-title text-center">Editar Expediente</h3>
            </div>
            <div class="card-body">
                <form method="post">
                    {% csrf_token %}
                    
                    <!-- Datos Principales -->
                    <div class="row">
                        <div class="col-md-3 mb-3">
                            <label for="expediente">Expediente:</label>
                            <input type="text" class="form-control" id="expediente" name="expediente" 
                                value="{{ expediente.expediente }}"
                                pattern="\d+/\d+/\d+" title="Formato requerido: X/X/X (ejemplo: 8/8/8)"
                                required>
                        </div>
                        <div class="col-md-3 mb-3">
                            <label for="junta">Junta:</label>
                            <input type="text" class="form-control" id="junta" name="junta" 
                                value="{{ expediente.junta }}"
                                pattern="JE[0-9]{1,2}" title="Formato requerido: JE00(ejemplo: JE1 o JE12)"
                                required>
                        </div>
                        <div class="col-md-3 mb-3">
                            <label for="actor">Actor:</label>
                            <input type="text" class="form-control" id="actor" name="actor" 
                                value="{{ expediente.actor }}" required>
                        </div>
                        <div class="col-md-3 mb-3">
                            <label for="demandado">Demandado:</label>
                            <input type="text" class="form-control" id="demandado" name="demandado" 
                                value="{{ expediente.demandado }}" required>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-4 mb-3">
                            <label for="no_se_ha_notificao_a_las_partes">No se ha notificado a las partes:</label>
                            <input type="text" class="form-control" id="no_se_ha_notificao_a_las_partes" 
                                name="no_se_ha_notificao_a_las_partes" 
                                value="{{ expediente.no_se_ha_notificao_a_las_partes }}"
                                pattern="[0-1]" title="Solo se permite 0 o 1">
                        </div>
                        <div class="col-md-4 mb-3">
                            <label for="empl_no_realizado">Empl. no realizado:</label>
                            <input type="text" class="form-control" id="empl_no_realizado" 
                                name="empl_no_realizado" value="{{ expediente.empl_no_realizado }}"
                                pattern="[0-1]" title="Solo se permite 0 o 1">
                        </div>
                        <div class="col-md-4 mb-3">
                            <label for="empl_exhorto">Empl. exhorto:</label>
                            <input type="text" class="form-control" id="empl_exhorto" 
                                name="empl_exhorto" value="{{ expediente.empl_exhorto }}"
                                pattern="[0-1]" title="Solo se permite 0 o 1">
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-3 mb-3">
                            <label for="cde">CDE:</label>
                            <input type="text" class="form-control" id="cde" 
                                name="cde" value="{{ expediente.cde }}"
                                pattern="[0-1]" title="Solo se permite 0 o 1">
                        </div>
                        <div class="col-md-3 mb-3">
                            <label for="oap">OAP:</label>
                            <input type="text" class="form-control" id="oap" 
                                name="oap" value="{{ expediente.oap }}"
                                pattern="[0-1]" title="Solo se permite 0 o 1">
                        </div>
                        <div class="col-md-3 mb-3">
                            <label for="desahogo_pruebas">Desahogo pruebas:</label>
                            <input type="text" class="form-control" id="desahogo_pruebas" 
                                name="desahogo_pruebas" value="{{ expediente.desahogo_pruebas }}"
                                pattern="[0-1]" title="Solo se permite 0 o 1">
                        </div>
                        <div class="col-md-3 mb-3">
                            <label for="cierre">Cierre:</label>
                            <input type="text" class="form-control" id="cierre" 
                                name="cierre" value="{{ expediente.cierre }}"
                                pattern="[0-1]" title="Solo se permite 0 o 1">
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-3 mb-3">
                            <label for="laudo_dictado">Laudo dictado:</label>
                            <input type="text" class="form-control" id="laudo_dictado" 
                                name="laudo_dictado" value="{{ expediente.laudo_dictado }}"
                                pattern="[0-1]" title="Solo se permite 0 o 1">
                        </div>
                        <div class="col-md-3 mb-3">
                            <label for="auto_ejecucion">Auto ejecución:</label>
                            <input type="text" class="form-control" id="auto_ejecucion" 
                                name="auto_ejecucion" value="{{ expediente.auto_ejecucion }}"
                                pattern="[0-1]" title="Solo se permite 0 o 1">
                        </div>
                        <div class="col-md-3 mb-3">
                            <label for="prescripcion">Prescripción:</label>
                            <input type="text" class="form-control" id="prescripcion" 
                                name="prescripcion" value="{{ expediente.prescripcion }}"
                                pattern="[0-1]" title="Solo se permite 0 o 1">
                        </div>
                        <div class="col-md-3 mb-3">
                            <label for="regularizar">Regularizar:</label>
                            <input type="text" class="form-control" id="regularizar" 
                                name="regularizar" value="{{ expediente.regularizar }}"
                                pattern="[0-1]" title="Solo se permite 0 o 1">
                        </div>
                    </div>

                    <div class="text-center mt-4">
                        <button type="submit" class="btn btn-agregar">Guardar Cambios</button>
                        <a href="{% url 'bienvenida' %}" class="btn btn-secondary">Cancelar</a>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
{% endblock %}